#!/bin/bash

function syntax() {
	echo useage: "$0" '[server-name]+'
}

if [ $# -eq 0 ]; then
	syntax
	exit 1
fi

t=/tmp/known_hosts
s=~/.ssh/known_hosts
cp  "$s" "$t"
for machine in $@ ; do
	grep "^$machine" "$s" 2>&1 > /dev/null
	if [ $? -eq 0 ]; then
		echo "$machine" REMOVED from "$s"
		sed /^$machine/d "$s" > "$t"
	else
		echo $machine is not in "$s"
	fi
done
cp "$t" "$s"

# That's all Folks!
##
